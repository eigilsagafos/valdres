---
sidebar_position: 1
---

import Tabs from "@theme/Tabs"
import TabItem from "@theme/TabItem"

# Quickstart

## Introduction

Valdres was birth out of a love for what Recoil and then Jotai have represented
in the React state library ecosystem and at the same time the pain experienced
due to performance issues with both librares building a complex DnD process
editor at ShiftX. We have adopted an api similar to Recoil and a store similar
to Jotai. We have also made `atomFamily` and `selectorFamily` first class
citizens.

## Instalation (React)

<Tabs groupId="package-manager">
    <TabItem value="npm" label="NPM">
        `npm i @valdres/react`
    </TabItem>
    <TabItem value="bun" label="Bun">
        `bun add @valdres/react`
    </TabItem>
    <TabItem value="yarn" label="Yarn">
        `yarn add @valdres/react`
    </TabItem>
</Tabs>

## Usage (React)

```jsx live noInline
import { atom, selector, useAtom, useValue } from "@valdres/react"

const getSystemColorScheme = () =>
    window.matchMedia &&
    window.matchMedia("(prefers-color-scheme: dark)").matches
        ? "dark"
        : "light"

const cssMode = valdres.atom(getSystemColorScheme)
const store = getDefaultStore()

window
    .matchMedia("(prefers-color-scheme: dark)")
    .addEventListener("change", e => store.reset(cssMode))

const App = () => {
    const colorMode = useValue(cssMode)
    return (
        <p>
            Your system is set to <b>{colorMode}</b> mode
        </p>
    )
}

render(<App />)
```
